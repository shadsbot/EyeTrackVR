<!DOCTYPE html>
<html lang="en-US"> <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="shortcut icon" href="/EyeTrackVR/assets/images/favicon.ico" type="image/x-icon"> <script> /* If `prefers-color-scheme` is not supported, fall back to default mode */ if (window.matchMedia('(prefers-color-scheme: dark)').media === 'not all') { /* document.documentElement.style.display = 'none'; */ document.head.insertAdjacentHTML( 'beforeend', '<link rel="stylesheet" href="/EyeTrackVR/%20/assets/css/just-the-docs-default.css" onload="document.documentElement.style.display = \'\'">', ); } </script> <!-- Browser Detection of preferred color scheme --> <link rel="stylesheet" href="/EyeTrackVR/assets/css/just-the-docs-eyetrackvr.css" media="(prefers-color-scheme: dark)"> <link rel="stylesheet" href="/EyeTrackVR/assets/css/just-the-docs-light.css" media="(prefers-color-scheme: light)"> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-5555555-55"></script> <script> window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); } gtag('js', new Date()); gtag('config', 'UA-5555555-55', { 'anonymize_ip': true }); </script> <script type="text/javascript" src="/EyeTrackVR/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/EyeTrackVR/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Building and uploading the firmware | EyeTrackVR Documentation</title> <meta name="generator" content="Jekyll v3.9.2"> <meta property="og:title" content="Building and uploading the firmware"> <meta name="author" content="ZanzyTHEbar"> <meta property="og:locale" content="en_US"> <meta name="description" content="Documentation for EyeTrackVR, an Opensource and affordable VR eye tracker for VR Chat."> <meta property="og:description" content="Documentation for EyeTrackVR, an Opensource and affordable VR eye tracker for VR Chat."> <link rel="canonical" href="https://redhawk989.github.io/EyeTrackVR/building-and-flashing-firmware/"> <meta property="og:url" content="https://redhawk989.github.io/EyeTrackVR/building-and-flashing-firmware/"> <meta property="og:site_name" content="EyeTrackVR Documentation"> <meta property="og:type" content="website"> <meta name="twitter:card" content="summary"> <meta property="twitter:title" content="Building and uploading the firmware"> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"ZanzyTHEbar"},"description":"Documentation for EyeTrackVR, an Opensource and affordable VR eye tracker for VR Chat.","headline":"Building and uploading the firmware","url":"https://redhawk989.github.io/EyeTrackVR/building-and-flashing-firmware/"}</script> <!-- End Jekyll SEO tag --> <link href="https://fonts.googleapis.com/css?family=Fira+Sans" rel="stylesheet"> <link href="https://fonts.googleapis.com/css?family=Fira+Mono" rel="stylesheet"> <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script> <script src="https://code.iconify.design/2/2.2.1/iconify.min.js"></script> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewbox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path> <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewbox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle> <line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewbox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line> <line x1="3" y1="6" x2="21" y2="6"></line> <line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewbox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewbox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path> <polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="https://redhawk989.github.io/EyeTrackVR/" class="site-title lh-tight"> EyeTrackVR Documentation </a> <a href="#" id="menu-button" class="site-button"> <svg viewbox="0 0 24 24" class="icon"> <use xlink:href="#svg-menu"></use> </svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list">
<li class="nav-list-item">
<a href="#" class="nav-list-expander"><svg viewbox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://redhawk989.github.io/EyeTrackVR/about/" class="nav-list-link">About</a><ul class="nav-list "><li class="nav-list-item "><a href="https://redhawk989.github.io/EyeTrackVR/dev-roadmap/" class="nav-list-link">Development Roadmap</a></li></ul>
</li>
<li class="nav-list-item">
<a href="#" class="nav-list-expander"><svg viewbox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://redhawk989.github.io/EyeTrackVR/suggestions.html" class="nav-list-link">Community Outreach</a><ul class="nav-list ">
<li class="nav-list-item "><a href="https://redhawk989.github.io/EyeTrackVR/_pages/Comments/" class="nav-list-link">Web-Forum</a></li>
<li class="nav-list-item "><a href="https://redhawk989.github.io/EyeTrackVR/contact/" class="nav-list-link">Socials</a></li>
</ul>
</li>
<li class="nav-list-item">
<a href="#" class="nav-list-expander"><svg viewbox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://redhawk989.github.io/EyeTrackVR/how_to_build" class="nav-list-link">How to build</a><ul class="nav-list ">
<li class="nav-list-item "><a href="https://redhawk989.github.io/EyeTrackVR/Wired-VS-Wireless-Setups/" class="nav-list-link">Differences Between Wired and Wireless setups</a></li>
<li class="nav-list-item "><a href="https://redhawk989.github.io/EyeTrackVR/partslist/" class="nav-list-link">Part List</a></li>
<li class="nav-list-item "><a href="https://redhawk989.github.io/EyeTrackVR/wireguide" class="nav-list-link">Wiring Guide</a></li>
</ul>
</li>
<li class="nav-list-item active">
<a href="#" class="nav-list-expander"><svg viewbox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://redhawk989.github.io/EyeTrackVR/setting-up-firmware/" class="nav-list-link">Firmware Guide</a><ul class="nav-list ">
<li class="nav-list-item "><a href="https://redhawk989.github.io/EyeTrackVR/setting-up-firmware-enviroment/" class="nav-list-link">Setup Visual Studio Code environment</a></li>
<li class="nav-list-item active"><a href="https://redhawk989.github.io/EyeTrackVR/building-and-flashing-firmware/" class="nav-list-link active">Building and uploading the firmware</a></li>
</ul>
</li>
<li class="nav-list-item"><a href="https://redhawk989.github.io/EyeTrackVR/software-guide/" class="nav-list-link">Software Guide</a></li>
<li class="nav-list-item"><a href="https://redhawk989.github.io/EyeTrackVR/vrc-avatar-setup/" class="nav-list-link">VR Chat Avatar Setup</a></li>
<li class="nav-list-item"><a href="https://redhawk989.github.io/EyeTrackVR/faq/" class="nav-list-link">FAQ</a></li>
</ul> </nav> <footer class="site-footer"> </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search EyeTrackVR Documentation" aria-label="Search EyeTrackVR Documentation" autocomplete="off"> <label for="search-input" class="search-label"><svg viewbox="0 0 24 24" class="search-icon"> <use xlink:href="#svg-search"></use> </svg></label> </div> <div id="search-results" class="search-results"></div> </div> <!-- Legacy Button --> <!-- <ul> <a href="javascript:toggleDetect()" title="Switching Schemes" class="btn btn-mode fs-2 mb-1 mb-md-0 mr-0" id="switch-mode">Dark Mode</a> </ul> --> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="//github.com/RedHawk989/EyeTrackVR/tree/main/scripts" class="site-button"> Scripts </a> </li> <li class="aux-nav-list-item"> <a href="//github.com/RedHawk989/EyeTrackVR/tree/main/InceptionNet" class="site-button"> InceptionNet </a> </li> <li class="aux-nav-list-item"> <a href="//github.com/RedHawk989/EyeTrackVR/tree/main/RANSAC" class="site-button"> RANSAC </a> </li> <li class="aux-nav-list-item"> <a href="//github.com/RedHawk989/EyeTrackVR" class="site-button"> GitHub </a> </li> <li class="aux-nav-list-item"> <a href="//github.com/RedHawk989/EyeTrackVR/wiki" class="site-button"> Wiki </a> </li> </ul> </nav> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="https://redhawk989.github.io/EyeTrackVR/setting-up-firmware/">Firmware Guide</a></li> <li class="breadcrumb-nav-list-item"><span>Building and uploading the firmware</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <h1 id="building-and-uploading-the-firmware"> <a href="#building-and-uploading-the-firmware" class="anchor-heading" aria-labelledby="building-and-uploading-the-firmware"><svg viewbox="0 0 16 16" aria-hidden="true"> <use xlink:href="#svg-link"></use> </svg></a> Building and uploading the firmware </h1> <p>Uploading your firmware must initially be done over cable. Once you have the tracker connected to your WiFi after your first firmware update, you can opt to use OTA in the future.</p> <h2 id="1-connect-your-tracker-to-your-pc"> <a href="#1-connect-your-tracker-to-your-pc" class="anchor-heading" aria-labelledby="1-connect-your-tracker-to-your-pc"><svg viewbox="0 0 16 16" aria-hidden="true"> <use xlink:href="#svg-link"></use> </svg></a> 1. Connect your tracker to your PC </h2> <p>First, connect your esp32cam to your programmer. In case of the esp32-cam-mb board, it’s as simple as sticking it into the socket the way it came in the package and then connecting it your PC with an micro-usb cable.</p> <p>In case of an FTDI programmer, the steps aren’t as easy, so grab <a href="https://randomnerdtutorials.com/program-upload-code-esp32-cam/">this guide</a> for how to set it up.</p> <h2 id="2-build-your-firmware"> <a href="#2-build-your-firmware" class="anchor-heading" aria-labelledby="2-build-your-firmware"><svg viewbox="0 0 16 16" aria-hidden="true"> <use xlink:href="#svg-link"></use> </svg></a> 2. Build your firmware </h2> <ol> <li> <p>Press the build button at the bottom of Visual Studio Code.</p> <p><img src="https://i.imgur.com/EmSkhFp.png" alt="img"></p> </li> </ol> <h2 id="3-upload-your-firmware"> <a href="#3-upload-your-firmware" class="anchor-heading" aria-labelledby="3-upload-your-firmware"><svg viewbox="0 0 16 16" aria-hidden="true"> <use xlink:href="#svg-link"></use> </svg></a> 3. Upload your firmware </h2> <ul> <li> <p>If you are using the OTA method, first make sure the tracker you wish to flash is turned on.</p> </li> <li> <p>Once the firmware has been built, press the upload button to upload the firmware.</p> <p><img src="https://i.imgur.com/lI3PFVC.png" alt="img"></p> </li> </ul> <!-- Custom Alert Using an SVG --> <!-- DO NOT FORMAT OR EDIT THIS DOCUMENT --> <blockquote> <p> <span class="icon-span-note"><svg class="octicon octicon-note mr-2" viewbox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"> <path fill-rule="evenodd" d="M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z"> </path> </svg><b>Note:</b> <small class="fs-3 fw-300"> The MB board does the resetting for you, so if you're using the FTDI programmer, follow the guide linked above (the one from randomnerdtutorials) </small> </span> </p> </blockquote> <ul> <li> <p>If the upload is successful, you should get an output that looks like this:</p> <p><img src="https://i.imgur.com/SDQcCr1.png" alt="img"></p> </li> </ul> <p>Congratulations! You have now successfully uploaded the firmware to your EyeTrackVR Tracker!</p> <p>If you have trouble with uploading your firmware over cable check the following:</p> <ol> <li>Make sure your USB cable from the tracker is plugged firmly into your PC.</li> <li>Make sure that your USB cable is a data and charging cable (it is suggested you try other cables or devices with the cable).</li> <li>Make sure that your drivers are up-to-date.</li> <li>Some ports might not work, try other ones.</li> </ol> <p>Additionally, this can be caused by software hogging COM ports (<strong>VSCode and Cura can be the cause of this</strong>).</p> <h2 id="uploading-via-ota"> <a href="#uploading-via-ota" class="anchor-heading" aria-labelledby="uploading-via-ota"><svg viewbox="0 0 16 16" aria-hidden="true"> <use xlink:href="#svg-link"></use> </svg></a> Uploading via OTA </h2> <p>Once you have successfully connected your trackers to your WiFi, you can use OTA to handle all future firmware updates.</p> <ol> <li>Retrieve the IP of the tracker you wish to flash. The IP can be found through network monitoring applications, or by viewing tracker output in a serial monitor.</li> <li>In <code class="language-plaintext highlighter-rouge">platformio.ini</code> file uncomment the following lines in Visual Studio Code by removing the <code class="language-plaintext highlighter-rouge">;</code>:</li> </ol> <div class="language-ini highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">;upload_protocol = espota
;upload_port = 192.168.1.49
</span></code></pre></div></div> <ol> <li>Change the value of upload_port to the IP address retrieved during the first step.</li> <li>Turn the tracker you wish to flash off and then on again.</li> <li>Wait around 5 seconds.</li> <li>Press the upload button to upload the firmware.<br><br> <img src="https://i.imgur.com/lI3PFVC.png" alt="img">
</li> <li>Repeat for as many trackers as you need.</li> </ol> <h2 id="troubleshooting"> <a href="#troubleshooting" class="anchor-heading" aria-labelledby="troubleshooting"><svg viewbox="0 0 16 16" aria-hidden="true"> <use xlink:href="#svg-link"></use> </svg></a> Troubleshooting </h2> <p>If you encountered an issue while following these steps check the <a href="https://redhawk989.github.io/EyeTrackVR/faq/">FAQ.</a></p> <p>If you don’t find an answer to your question there ask in <strong>#questions</strong> channel in <a href="https://discord.gg/kkXYbVykZX">the discord</a>, we will be happy to help.</p> <p><em>Adapted from the SlimeVR docs, Credit goes to the SlimeVR team <a href="https://docs.slimevr.dev/firmware/setup-and-install.html">here</a></em></p> <hr> <footer> <p><a href="#top" id="back-to-top">Top</a></p> <!-- Generate footer --> <style> a { text-decoration: none; color: blue; } img { vertical-align: middle; } .footer-logo { width: 100%; height: auto; margin-top: -10px; margin-bottom: 10px; text-align: center; display: inline-block; } </style> <div class="container"> <div class="row"> <div class="col-md-6"> <div class="footer-logo"> <!-- <a href="/"> <img width="100px" height="30px" title="Open-Air-Logo" src="" alt="logo"> </a> --> Copyright © 2019-current EyeTrackVR. Distributed by an <a href="https://github.com/RedHawk989/EyeTrackVR/blob/main/LICENSE">MIT</a> </div> </div> </div> </div> <div class="d-flex mt-2"> <p class="text-small text-grey-dk-000 mb-0"> <a href="https://github.com/RedHawk989/EyeTrackVR/edit/docs/docs/_pages/Upload_Firmware.md" id="edit-this-page">Edit this page on GitHub.</a> </p> </div> </footer> </div> </div> <div class="search-overlay"></div> </div> <div> <script src="https://redhawk989.github.io/EyeTrackVR/assets/js/custom/cookies/cookies.js"></script> <style> #cookie-notice { padding: 0.5rem 1rem; display: none; text-align: center; position: fixed; bottom: 0; width: 100%; background: #27262b; color: rgba(255, 255, 255, 0.8); } #cookie-notice a { display: inline-block; cursor: pointer; margin-left: 0.5rem; } @media (max-width: 767px) { #cookie-notice span { display: block; padding-top: 3px; margin-bottom: 1rem; } #cookie-notice a { position: relative; bottom: 4px; } } </style> <div id="cookie-notice"> <span>I would like to use third party cookies and scripts to improve the functionality of this website. </span> <a id="cookie-notice-accept" class="btn btn-primary btn-sm">Approve</a> <a href="/EyeTrackVR/privacy" class="btn btn-primary btn-sm">More info </a> </div> <script> if (readCookie('cookie-notice-dismissed') == 'true') { /*This function will load script and call the callback once the script has loaded*/ function loadScriptAsync(scriptSrc, callback) { if (typeof callback !== "function") { throw new Error("Not a valid callback for async script load"); } var script = document.createElement("script"); script.onload = callback; script.src = scriptSrc; document.head.appendChild(script); } /* This is the part where you call the above defined function and "call back" your code which gets executed after the script has loaded */ loadScriptAsync( "https://www.googletagmanager.com/gtag/js?id={#YOUR-TRACKING-ID}", function () { window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); } gtag("js", new Date()); gtag("config", "{#YOUR-TRACKING-ID}", { anonymize_ip: true }); } ); } else { document.getElementById('cookie-notice').style.display = 'block'; } document.getElementById('cookie-notice-accept').addEventListener("click", function () { createCookie('cookie-notice-dismissed', 'true', 31); document.getElementById('cookie-notice').style.display = 'none'; location.reload(); }); </script> <script src="https://redhawk989.github.io/EyeTrackVR/assets/js/custom/scheme/colorscheme.js"></script> </div> </body> </html>
